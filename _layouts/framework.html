{% include head.html %}

{% include navigation.html %}

{% assign types = "researcher, scientist, engineer, manager" | split: ", " %}

<div>
	<h1>{{ page.title }}</h1>
	<h2>Version: {{ page.version }}</h2>
</div>

<table>
	<thead>
		<tr>
			<th rowspan="2">Area</th>
			<th rowspan="2">Competence</th>
			<th colspan="4">User</th>
			<th colspan="4">Operator</th>
		</tr>
		<tr>
			<th>Researcher</th>
			<th>Scientist</th>
			<th>Engineer</th>
			<th>Manager</th>
			<th>Researcher</th>
			<th>Scientist</th>
			<th>Engineer</th>
			<th>Manager</th>
		</tr>
	</thead>
	<tbody>
		{% for element in page.framework %}
		{% assign isfirst = true %}
		{% for competence in element.competences %}
		<tr>
			{% if isfirst %}
			<td rowspan="{{ element.competences.size }}">{{ element.name }}</td>
			{% assign isfirst = false %}
			{% endif %}
			<td>{{ competence.name }}</td>
			{% for type in types %}
				{% capture level %}{{ competence.expertise.users[type] }}{% endcapture %}
				<td><i class="{{site.data.levels[level].logo}} tooltipped" data-position="right" data-tooltip="{{ site.data.levels[level].name }}"></i></td>
			{% endfor %}
			{% for type in types %}
				{% capture level %}{{ competence.expertise.operators[type] }}{% endcapture %}
				<td><i class="{{site.data.levels[level].logo}} tooltipped" data-position="right" data-tooltip="{{ site.data.levels[level].name }}"></i></td>
			{% endfor %}
		</tr>
		{% endfor %}
		{% endfor %}		
	</tbody>
</table>

{% include footer.html %}
